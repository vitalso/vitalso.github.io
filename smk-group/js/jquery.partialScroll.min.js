!function(e){"use strict";var t="partialscroll-area",n=navigator.platform.toUpperCase().indexOf("MAC")>=0;e.fn.partialScroll=function(o){function r(){c()}function i(e){var t=e.originalEvent;return t.detail?-40*t.detail:t.wheelDelta}function s(e,t){if(n){g.oldDate=g.newDate,g.newDate=new Date;var o=g.newDate.getTime()-g.oldDate.getTime(),r=Math.abs(i(t));return console.log(r),o<e&&r<50||void 0}}function c(){(o.globalWheel?e(o.globalSelector):I).on("mousewheel DOMMouseScroll",function(e){if(!(g.stopAllFunctions||g.throttleWheel||s(150,e))){g.throttleWheel=!0;var t=i(e);120===t||t>0?g.wheel="up":(-120===t||t<0)&&(g.wheel="down"),l(g.wheel),setTimeout(function(){g.throttleWheel=!1},o.throttleScrolling)}})}function l(e,t){g.scrolling||g.stopAllFunctions||0===g.currentIndex&&"up"===e||g.currentIndex===g.secLength-1&&"down"===e||g.currentIndex===e||g.secLength-1<e||(g.scrolling=!0,g.oldIndex=g.currentIndex,g.secIndex=e,u(t),d(),f(),a(),h())}function u(e){e?g.wrap.css({transition:"none"}):g.wrap.css({transition:"all "+o.scrollingSpeed/1e3+"s"})}function a(){switch(g.secIndex){case"up":g.moveValue=I.find(".section").eq(g.oldIndex).height(),g.currentPositionTop=g.currentPositionTop+g.moveValue;break;case"down":g.moveValue=I.find(".section").eq(g.currentIndex).height(),g.currentPositionTop=g.currentPositionTop-g.moveValue;break;default:if("number"==typeof g.secIndex){g.moveValue=I.find(".section").eq(g.currentIndex).height();var e=0;g.secIndex===g.secLength-1&&(e=I.find(".section").eq(g.currentIndex).height()-g.secHeight),g.currentPositionTop=-(g.secHeight*g.secIndex+e)}}}function d(){switch(g.secIndex){case"up":g.currentIndex--;break;case"down":g.currentIndex++;break;default:"number"==typeof g.secIndex&&(g.currentIndex=g.secIndex)}}function h(){g.wrap.css({transform:"translateY("+g.currentPositionTop+"px)"}),setTimeout(p,o.scrollingSpeed)}function f(){switch(g.secIndex){case"up":case"down":o.sliderBefore(g.oldIndex,g.currentIndex);break;default:"number"==typeof g.secIndex&&o.sliderBefore(g.oldIndex,g.secIndex)}}function p(){setTimeout(function(){g.scrolling=!1},400),o.sliderAfter(g.oldIndex,g.currentIndex)}if(0===this.length)return this;if(this.length>1)return this.each(function(){e(this).partialScroll(o)}),this;var g={},I=this;return o=e.extend({secWidth:0,secHeight:0,secLength:0,scrollingSpeed:900,throttleScrolling:100,footer:!1,globalWheel:!0,globalSelector:"html",sliderBefore:function(){return!0},sliderAfter:function(){return!0}},o),I.moveTo=function(e){l(parseInt(e))},I.silentMoveTo=function(e){l(parseInt(e),!0)},I.moveToUp=function(){l("up")},I.moveToDown=function(){l("down")},I.stopWheel=function(){g.throttleWheel=!0},I.startWheel=function(){g.throttleWheel=!1},I.stopScroll=function(){g.stopAllFunctions=!0},I.startScroll=function(){g.stopAllFunctions=!1},I.css({overflow:"hidden"}),I.wrapInner('<div class="'+t+'"></div>'),g.secWidth=0===o.secWidth?parseInt(I.css("width")):o.secWidth,g.secHeight=0===o.secHeight?parseInt(I.css("height")):o.secHeight,g.secLength=0===o.secLength?I.find(".section").length:o.secLength,g.wrap=I.find("."+t),g.wrap.css({width:g.secWidth,position:"relative",transition:"all "+o.scrollingSpeed/1e3+"s"}),g.stopAllFunctions=!1,g.throttleWheel=!1,g.scrolling=!1,g.oldIndex=0,g.currentIndex=0,g.currentPositionTop=0,g.moveValue=parseInt(g.secHeight),g.newDate=new Date,g.oldDate=null,r(),this}}(jQuery);